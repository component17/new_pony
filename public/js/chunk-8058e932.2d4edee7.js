(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8058e932"],{4228:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",[n("vs-divider",[t._v("\n            Список групп\n        ")]),n("vs-row",[t._l(t.$store.state.modules.sections,function(e,i){return n("vs-col",{attrs:{type:"flex","vs-justify":"center","vs-align":"center","vs-sm":"12","vs-lg":"3"}},[n("vs-card",{attrs:{actionable:""},nativeOn:{contextmenu:function(n){return n.preventDefault(),t.$refs.menu.open(n,e)},click:function(n){return t.selectSection(e.id)}}},[n("div",{staticClass:"card-content-section"},[n("h5",{staticClass:"mb-1"},[t._v(t._s(e.title))]),t._v("\n                        Кол-во модулей: "+t._s(e.modules?e.modules.length:0)+"шт.\n                    ")])])],1)}),n("vs-col",{attrs:{type:"flex","vs-justify":"center","vs-align":"center","vs-sm":"12","vs-lg":"3"}},[n("vs-card",{attrs:{actionable:""},nativeOn:{click:function(e){return t.addSection(e)}}},[n("div",{staticClass:"card-content-section"},[n("h5",[t._v("+ Добавить группу")])])])],1)],2)],1),n("vs-prompt",{attrs:{"vs-title":"Новая группа","vs-accept-text":"Добавить","vs-cancel-text":"Отменить","vs-active":t.dialogAddSection},on:{"vs-cancel":t.cancelAddSection,"vs-accept":t.saveSection,"vs-close":t.cancelAddSection,"update:vsActive":function(e){t.dialogAddSection=e},"update:vs-active":function(e){t.dialogAddSection=e}}},[n("div",{staticClass:"con-exemple-prompt"},[n("span",[t._v("Введите наименование группы")]),n("vs-input",{staticClass:"mt-3 w-full",attrs:{placeholder:"Группа 1","vs-placeholder":"Группа 1"},model:{value:t.newSectionTitle,callback:function(e){t.newSectionTitle=e},expression:"newSectionTitle"}})],1)]),n("vs-prompt",{attrs:{"vs-title":"Редакитровать группу","vs-accept-text":"Сохранить","vs-cancel-text":"Отменить","vs-active":t.dialogUpdateSection},on:{"vs-cancel":t.cancelAddSection,"vs-accept":t.saveUpdateSection,"vs-close":t.cancelAddSection,"update:vsActive":function(e){t.dialogUpdateSection=e},"update:vs-active":function(e){t.dialogUpdateSection=e}}},[n("div",{staticClass:"con-exemple-prompt"},[n("span",[t._v("Измените наименование группы")]),n("vs-input",{staticClass:"mt-3 w-full",attrs:{placeholder:"Группа 1","vs-placeholder":"Группа 1"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.saveUpdateSection(e)}},model:{value:t.newSectionTitle,callback:function(e){t.newSectionTitle=e},expression:"newSectionTitle"}})],1)]),n("vue-context",{ref:"menu",scopedSlots:t._u([{key:"default",fn:function(e){return[n("ul",{staticClass:"bordered-items p-0"},[n("li",{on:{click:function(n){return t.optionClicked(n.target.innerText,e.data)}}},[t._v("Редактировать")]),n("li",{on:{click:function(n){return t.optionClicked(n.target.innerText,e.data)}}},[t._v("Удалить")])])]}}])})],1)},c=[],o=n("9175"),s={components:{VueContext:o["VueContext"]},data:function(){return{dialogAddSection:!1,dialogUpdateSection:!1,currentEditSection:"",newSectionTitle:""}},methods:{optionClicked:function(t,e){"Редактировать"===t?this.editSection(e):this.$vs.dialog({type:"confirm",color:"danger",title:"Подтвердите удаление",text:"Внимание! При удалении группы все ее модули будут удаленны!",acceptText:"Удалить",cancelText:"Отменить",accept:this.deleteSection})},selectSection:function(t){this.$router.push("/modules/"+t)},addSection:function(){this.dialogAddSection=!0},saveSection:function(){var t=this;this.$http.post("/sections",{title:this.newSectionTitle}).then(function(e){t.$vs.notify({title:"Успешно!",text:"Группа сохраненна.",color:"success"})}).catch(function(e){t.$vs.notify({title:"Ошибка!",text:e.response.data.err,color:"red"})}),this.newSectionTitle=""},cancelAddSection:function(){this.dialogAddSection=!1,this.newSectionTitle="",this.currentEditSection="",this.dialogUpdateSection=!1},editSection:function(t){this.dialogUpdateSection=!0,this.newSectionTitle=t.title,this.currentEditSection=t.id},saveUpdateSection:function(){var t=this;this.$http.post("/sections/"+this.currentEditSection,{title:this.newSectionTitle}).then(function(e){t.$vs.notify({title:"Успешно!",text:"Группа сохраненна.",color:"success"})}).catch(function(e){t.$vs.notify({title:"Ошибка!",text:e.response.data.err,color:"red"})}).then(function(){t.cancelAddSection()})},deleteSection:function(t){console.log("DELETE ",t)}}},a=s,l=(n("eb9c"),n("2877")),d=Object(l["a"])(a,i,c,!1,null,"0f0701d2",null);e["default"]=d.exports},da68:function(t,e,n){},eb9c:function(t,e,n){"use strict";var i=n("da68"),c=n.n(i);c.a}}]);
//# sourceMappingURL=chunk-8058e932.2d4edee7.js.map