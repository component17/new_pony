(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2301ccb8"],{"5e08":function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",[n("vs-divider",[e._v("\n                Список модулей\n            ")]),null!==e.currentSection?n("vs-row",[e._l(e.currentSection.modules,function(t){return n("vs-col",{attrs:{type:"flex","vs-justify":"center","vs-align":"center","vs-sm":"12","vs-lg":e.columnCount}},[n("vs-card",{attrs:{actionable:""},nativeOn:{contextmenu:function(n){return n.preventDefault(),e.$refs.menu.open(n,t)}}},[n("div",{staticClass:"card-content-section"},[n("h5",{staticClass:"mb-1"},[e._v(e._s(t.alias))]),e._v("\n                            ID: "+e._s(t.did)+"\n                        ")])])],1)}),n("vs-col",{attrs:{type:"flex","vs-justify":"center","vs-align":"center","vs-sm":"12","vs-lg":e.columnCount}},[n("vs-card",{attrs:{actionable:""},nativeOn:{click:function(t){return e.addModule(t)}}},[n("div",{staticClass:"card-content-section"},[n("h5",[e._v("+ Добавить модуль")])])])],1)],2):e._e()],1),n("vs-prompt",{attrs:{"vs-title":"Новый модуль","vs-accept-text":"Добавить","vs-cancel-text":"Отменить","vs-active":e.dialogAddModule},on:{"vs-cancel":e.cancelAddModule,"vs-accept":e.saveModule,"vs-close":e.cancelAddModule,"update:vsActive":function(t){e.dialogAddModule=t},"update:vs-active":function(t){e.dialogAddModule=t}}},[n("div",{staticClass:"con-exemple-prompt"},[n("div",{staticClass:"mb-3"},[n("span",[e._v("Введите наименование")]),n("vs-input",{staticClass:"mt-3 w-full",attrs:{placeholder:"Ячейка 1","vs-placeholder":"Ячейка 1"},model:{value:e.newModuleAlias,callback:function(t){e.newModuleAlias=t},expression:"newModuleAlias"}})],1),n("div",[n("span",[e._v("Введите ID модуля")]),n("vs-input",{staticClass:"mt-3 w-full",attrs:{placeholder:"201905040001","vs-placeholder":"201905040001"},model:{value:e.newModuleId,callback:function(t){e.newModuleId=t},expression:"newModuleId"}})],1)])]),n("vue-context",{ref:"menu",scopedSlots:e._u([{key:"default",fn:function(t){return[n("ul",{staticClass:"bordered-items p-0"},[n("li",{on:{click:function(n){return e.optionClicked(n.target.innerText,t.data)}}},[e._v("Редактировать")]),n("li",{on:{click:function(n){return e.optionClicked(n.target.innerText,t.data)}}},[e._v("Удалить")])])]}}])})],1)},l=[],s=n("9175"),c={components:{VueContext:s["VueContext"]},data:function(){return{currentSection:null,columnCount:3,dialogAddModule:!1,newModuleAlias:"",newModuleId:"",editModule:null}},created:function(){var e=this;this.$vs.loading(),this.$store.dispatch("modules/getSectionById",this.$route.params.section).then(function(t){e.$emit("changeRouteTitle",t.title),e.currentSection=t,e.$vs.loading.close()}).catch(function(t){e.$vs.loading.close(),e.$router.push("/modules")})},methods:{optionClicked:function(e,t){"Редактировать"===e?this.editModule(t):this.$vs.dialog({type:"confirm",color:"danger",title:"Подтвердите удаление",text:"Удалить?",acceptText:"Удалить",cancelText:"Отменить",accept:this.deleteModule})},deleteModule:function(e){console.log(e)},addModule:function(){this.dialogAddModule=!0},cancelAddModule:function(){this.dialogAddModule=!1,this.newModuleAlias="",this.newModuleId=""},saveModule:function(){var e=this;this.$http.post("/modules",{name:this.newModuleAlias,pid:this.$route.params.section,did:this.newModuleId}).then(function(t){e.$vs.notify({title:"Успешно!",text:"Модуль добавлен.",color:"success"})}).catch(function(t){e.$vs.notify({title:"Ошибка!",text:t.response.data.err,color:"red"})}),this.cancelAddModule()}}},i=c,d=(n("f17c"),n("2877")),a=Object(d["a"])(i,o,l,!1,null,"613d9cdc",null);t["default"]=a.exports},d237:function(e,t,n){},f17c:function(e,t,n){"use strict";var o=n("d237"),l=n.n(o);l.a}}]);
//# sourceMappingURL=chunk-2301ccb8.29dbb400.js.map